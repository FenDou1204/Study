# SSH 连接调试方法

- 时间：2021年10月15日18:08:02

SSH 连接出现各种问题，找问题比较麻烦，总结一些常见的调试手段以及调试流程思想，方便以后遇到问题进行解决。在最近的检索过程中发现最重要的思想是要熟练使用 DEBUG 信息。

## 查看 SSH DEBUG 消息

- CLIENT 端，使用 `ssh root@x.x.x.x -vvv` 来查看连接过程中的 DEBUG 消息。
- SERVER 端，使用 `journalctl -u sshd` 来查看服务器端生成的 DEBUG 消息。

## 目录权限

- 服务器端 `/root` 目录权限需要注意，通常要设置 `chmod 700 /root`
- 客户机端 `.ssh/` 目录以及私钥文件的权限都要设置，最好设置为 `chmod 600 ~/.ssh/私钥`

**注:此部分作为自己的设置，可能会有错误或者遗漏。**

## 解决问题流程

1. 先查看 DEBUG 信息，查找连接过程中出现的错误，记录相应的错误。
2. 根据错误说明，进行相应的修改。
3. 根据错误信息进行检索，根据检索结果尝试进行修改测试。